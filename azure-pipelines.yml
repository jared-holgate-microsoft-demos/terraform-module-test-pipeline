resources:
  repositories:
    - repository: Module
      type: GitHub
      endpoint: jared-holgate-microsoft-demos
      name: jared-holgate-microsoft-demos/terraform-module-test-module

trigger:
- main

pool: Default

steps:
- checkout: self
- checkout: Module

- script: terraform init
  displayName: 'Terraform Init'
  workingDirectory: terraform-module-test-pipeline

- script: terraform apply -auto-approve
  displayName: 'Terrafrom Apply'
  workingDirectory: terraform-module-test-pipeline
